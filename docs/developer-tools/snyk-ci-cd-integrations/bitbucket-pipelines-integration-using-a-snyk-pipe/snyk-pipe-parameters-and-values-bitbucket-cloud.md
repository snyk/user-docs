# Snyk pipe parameters and values (Bitbucket Cloud)

## Configure the Snyk pipe

Configure the following Snyk pipe as part of a pipeline YAML file in order to include vulnerability scanning as part of your CI/CD workflow:

```
- pipe: snyk/snyk-scan:1.0.0
  variables:
    // variables go here
```

## Snyk pipe variables

For information on how these variables are used, see the [Snyk pipe examples](snyk-pipe-examples.md).

| **Variable**                         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| SNYK\_TOKEN (required)               | <p>Enter the Snyk PAT or API token, which you can retrieve from your Snyk Account settings.</p><p>Snyk recommends that you encrypt the token. You can add it as a predefined variable in a separate part of the Bitbucket pipes directory:</p><ol><li>From the build directory, navigate to <strong>Add a new Repository value</strong>, name the parameter <code>SNYK_TOKEN</code>, and enter your Snyk API token as the value.</li><li><p>From the pipeline YAML file that you are building, enter <code>$SNYK_TOKEN</code> as the value for the <code>SNYK_TOKEN</code> parameter in the Snyk pipe.</p><div><figure><img src="../../../.gitbook/assets/uuid-6ce8d058-882c-c810-f303-c59dcaeeeda8-en (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (10).png" alt="Snyk_token_in_pipeline.png"><figcaption><p>Snyk_token_in_pipeline.png</p></figcaption></figure></div></li></ol><p>See the <a href="https://support.atlassian.com/bitbucket-cloud/resources/">Bitbucket documentation</a> for more information about predefined variables.</p> |
| LANGUAGE (required)                  | <p>Configure the package manager of the app, for example, Node, Maven, Ruby, Composer, or Docker).</p><p>See <a href="https://hub.docker.com/r/snyk/snyk/tags">Dockerhub</a> for a full list of possible tags.</p><p><strong>Note</strong>: When you are using <code>LANGUAGE</code> with  <code>SNYK_BASE_IMAGE</code>, this field refers to your base image tag.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| IMAGE\_NAME (conditionally required) | For Docker `LANGUAGE` only, configure the image name for which to perform a Docker scan. Required if `LANGUAGE=docker`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| SNYK\_BASE\_IMAGE                    | <p>Supply your own custom image if you do not wish to use <a href="https://hub.docker.com/r/snyk/snyk">Snyk Images</a>.</p><p>Default: <code>snyk/snyk</code>.<br><strong>Note:</strong> LANGUAGE will refer to your base image tag; ensure the tag is valid</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| CODE\_INSIGHTS\_RESULTS              | Create a [Code Insight report](https://support.atlassian.com/bitbucket-cloud/docs/code-insights/) with Snyk test results. Default: false.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| SNYK\_TEST\_JSON\_INPUT              | Use if you want to create only a Code Insights report from previously generated `snyk test --json` output.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| DONT\_BREAK\_BUILD                   | <p>Do not fail the build if vulnerabilities are found.</p><p>Default: false. The build will fail when vulnerabilities are found.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| MONITOR                              | <p>Records a snapshot of the Project for the Snyk UI and then continues monitoring the Project after the build is run. See <a href="../../../discover-snyk/getting-started/glossary.md#monitor">Monitor</a> in the glossary.</p><p>If the test succeeds, this records a snapshot of the dependencies in the <a href="http://app.snyk.io">Snyk Web UI</a> and allows you to see the state of your deployed code, have it monitored, and receive alerts when new vulnerabilities are found in the code.</p><p>Default: false. The Project is not monitored after the initial scan.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| SEVERITY\_THRESHOLD                  | <p>Reports issues equal to or higher than the configured level. Possible values: <code>low</code>, <code>med</code>, <code>high</code>, <code>critical</code></p><p>Default: low. All vulnerabilities are reported.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ORGANIZATION                         | <p>Configures the Organization from your Snyk account with which to associate the repository.</p><p>Default: none. The <a href="../../../discover-snyk/getting-started/snyk-web-ui.md#manage-account-preferences-and-settings">default Organization configured</a> in your Snyk account is used.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| PROJECT\_FOLDER                      | <p>The folder in which the Project resides.</p><p>Default: <code>./</code> .</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| TARGET\_FILE                         | <p>The target manifest file, for example <code>package.json</code>, equivalent to <code>--file=</code> in the CLI.</p><p>For Docker, enter the Dockerfile as the value.</p><p>Default: none.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| EXTRA\_ARGS                          | <p>Extra arguments to be passed to the Snyk CLI. Use the parameters and arguments as described in the <a href="../../snyk-cli/cli-commands-and-options-summary.md">CLI commands and options summary</a>.</p><p>Default: none.</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| DEBUG                                | <p>Turn on extra debug information.</p><p>Default: false</p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| SNYK\_API                            | <p>Specify the Snyk API endpoint, for example, <code>https://api.eu.snyk.io</code><br>Default: <code>https://api.snyk.io</code></p>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
