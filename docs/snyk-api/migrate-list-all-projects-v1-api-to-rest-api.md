# Migrate List all Projects v1 API to REST API

{% hint style="warning" %}
**End of servicing**

On June 22, 2023, Snyk [announced](https://updates.snyk.io/deprecation-and-end-of-life-for-the-list-all-projects-v1-api-267781) the plan to sunset the [List all projects v1 API](https://snyk.docs.apiary.io/#reference/projects/all-projects/list-all-projects) with  end-of-life on December 22, 2023, in favor of the [REST List all projects API](https://apidocs.snyk.io/?version=2023-05-29#get-/orgs/-org\_id-/projects).&#x20;
{% endhint %}

## Whatâ€™s new in the REST Projects API?

Based on OpenAPI specifications, the Snyk REST API is designed to provide a consistent, friendly, and easy-to-use API framework that introduces some major improvements. The benefits of the new APIs include:

* Consistent versioning
* Pagination and caching
* Improved performance
* Client generation

The Projects REST API introduces improved data architecture to facilitate enhanced performance and separation of domains.

Snyk understands that migrating to a new API can be a significant undertaking and wants to support you throughout the process. This comprehensive migration guide is intended to facilitate a seamless transition by providing step-by-step instructions, code examples, and best practices to help you smoothly integrate with the new API.

If you are using the deprecated endpoint, Snyk encourages you to review this migration guide and move all your automations over before Friday, December 22, 2023.

## Timeline for migration to the REST API

| Step                                                                                                                                                                                                                                                                                                               | Due date           | Your Action Items                                                                                                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Announce that [List all projects v1 API](https://snyk.docs.apiary.io/#reference/projects/all-projects/list-all-projects) is now deprecated                                                                                                                                                                         | June 22, 2023      | Review the current API usage and use and identify where a migration would need to take place                                                                                              |
| Migration guide to be published with a detailed comparison between v1 and REST Projects API                                                                                                                                                                                                                        | June 22, 2023      | Review the migration guide and plan to migrate any existing code and workflows before the final date                                                                                      |
| <p><a href="https://snyk.docs.apiary.io/#reference/projects/all-projects/list-all-projects">List all projects v1 API</a> will now return 410 Gone:</p><ul><li>For all all newly created Groups on Enterprise Plan</li><li>For all newly created Organizations on other plans with access to the Snyk API</li></ul> | June 22, 2023      | <p>No action needed for existing  users on Enterprise plan</p><p></p><p>New users should use the REST Projects API for all new integrations</p><p><br><br><br></p>                        |
| Snyk Tools                                                                                                                                                                                                                                                                                                         | August 15, 2023    | <p>Customers using Snyk Tools need to upgrade to a version that supports using the REST Projects API instead of v1</p><p><br></p><p>Refer to the detailed list included in this guide</p> |
| [List all projects v1 API](https://snyk.docs.apiary.io/#reference/projects/all-projects/list-all-projects) documentation removal                                                                                                                                                                                   | September 22, 2023 | No action needed                                                                                                                                                                          |
| End-of-life: All access to [List all projects v1 API](https://snyk.docs.apiary.io/#reference/projects/all-projects/list-all-projects) will result in a 410 Gone response.                                                                                                                                          | December 22, 2023  | Ensure migration has been completed by this time to avoid disruption to automated workflows                                                                                               |

The following Snyk Tools that use the [List all projects v1 API](https://snyk.docs.apiary.io/#reference/projects/all-projects/list-all-projects) have been updated to use the [REST List all projects API](https://apidocs.snyk.io/?version=2023-05-29#get-/orgs/-org\_id-/projects) instead:

* [snyk-jira-tickets-for-new-vulns](https://github.com/snyk-tech-services/jira-tickets-for-new-vulns): version 5.0.0 or newer
* [snyk-api-ts-client](https://github.com/snyk-labs/snyk-api-ts-client): version 1.11.1 or newer
* [snyk-request-manager](https://github.com/snyk-labs/snyk-request-manager): version 1.8.1 or newer
* [backstage-plugin](https://github.com/snyk-tech-services/backstage-plugin-snyk): version 2.0.0 or newer
* [api-import-tool](https://github.com/snyk-tech-services/snyk-api-import): version 1.99.0 or newer
* [snyk-scm-mapper](https://github.com/snyk-labs/snyk-scm-mapper): latest version
* [pysnyk](https://github.com/snyk-labs/pysnyk): version 0.9.8 or newer
* [snyk-repo-diff](https://github.com/snyk-labs/snyk-repo-diff): latest version
* [snyk delta](https://github.com/snyk-tech-services/snyk-delta): version 1.9.0 or newer
* [snyk-tags-tool](https://github.com/snyk-labs/snyk-tags-tool)&#x20;
* [scm-contributors-count](https://github.com/snyk-tech-services/snyk-scm-contributors-count)
* [snyk-issues-to-csv](https://github.com/snyk-labs/snyk-issues-to-csv):  latest version
* [snyk-disallow](https://github.com/snyk-tech-services/snyk-disallow): this tool is now deprecated
* [snyk-prevent-gh-commit-status](https://github.com/snyk-tech-services/snyk-prevent-gh-commit-status): version 2.2.1 or newer
* Various [CX Tools](https://github.com/snyk-playground/cx-tools) code samples have been updated

## Comparison of v1 to REST Projects API

| V1  /org/:orgId/projects                                                                                     | REST /orgs/:orgId/projects                                                                                                                                                                                                                                                                                                    |
| ------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| org.name                                                                                                     | data\[i].relationships.organization.links.related - Provides a REST API link to retrieve more data about an organization via [REST GET /orgs/:org\_id](https://apidocs.snyk.io/?version=2023-05-29#get-/orgs/-org\_id-)                                                                                                       |
| org.id                                                                                                       | <p>data[i].relationships.organization.data.id -<br>Can also use the provided rest API link to retrieve more data about an organization via <a href="https://apidocs.snyk.io/?version=2023-05-29#get-/orgs/-org_id-">REST GET /orgs/:org_id</a></p>                                                                            |
| name                                                                                                         | data\[i].attributes.name                                                                                                                                                                                                                                                                                                      |
| created                                                                                                      | data\[i].attributes.created                                                                                                                                                                                                                                                                                                   |
| origin                                                                                                       | data\[i].attributes.origin                                                                                                                                                                                                                                                                                                    |
| type                                                                                                         | data\[i].attributes.type                                                                                                                                                                                                                                                                                                      |
| readOnly                                                                                                     | data\[i].attributes.read\_only                                                                                                                                                                                                                                                                                                |
| testFrequency                                                                                                | data.\[i].attributes.settings.recurring\_tests.frequency                                                                                                                                                                                                                                                                      |
| totalDependencies                                                                                            | Can be fetched optionally by specifying the meta.latest\_dependency\_total query parameter                                                                                                                                                                                                                                    |
| issueCountBySeverity.low issueCountBySeverity.medium issueCountBySeverity.high issueCountBySeverity.critical | Can be fetched optionally by specifying the meta.latest\_issue\_counts query parameter                                                                                                                                                                                                                                        |
| imageId                                                                                                      | Can be fetched from the latest project snapshot via [v1 POST org/:orgId/project/:projectId/history](https://snyk.docs.apiary.io/#reference/projects/project-history/list-all-project-snapshots)                                                                                                                               |
| imageTag                                                                                                     | Can be fetched from the latest project snapshot via [v1 POST org/:orgId/project/:projectId/history](https://snyk.docs.apiary.io/#reference/projects/project-history/list-all-project-snapshots)                                                                                                                               |
| imageBaseImage                                                                                               | Can be fetched from the latest project snapshot via [v1 POST org/:orgId/project/:projectId/history](https://snyk.docs.apiary.io/#reference/projects/project-history/list-all-project-snapshots)                                                                                                                               |
| imagePlatform                                                                                                | Can be fetched from the latest project snapshot via [v1 POST org/:orgId/project/:projectId/history](https://snyk.docs.apiary.io/#reference/projects/project-history/list-all-project-snapshots)                                                                                                                               |
| imageCluster                                                                                                 | Data\[i].target.data.id - Use the expand parameter to expand this relationship or make a separate API call to [REST Targets API](https://apidocs.snyk.io/?version=2023-04-28%7Ebeta#get-/orgs/-org\_id-/targets) to get a matching target and grab the cluster data from there.                                               |
| remoteRepoUrl                                                                                                | _Data\[i].relationships.target.data.attributes.url - Use the expand parameter to expand the target relationship_                                                                                                                                                                                                              |
| lastTestedDate                                                                                               | meta.latest\_dependency\_total.updated\_at or meta.latest\_issue\_counts.updated\_at - can be fetched optionally by specifying the meta.latest\_issue\_counts or meta.latest\_dependency\_total query parameter                                                                                                               |
| <p>owner.id</p><p>owner.name</p><p>owner.username</p><p>owner.email</p>                                      | <p>data[i].relationships.owner.links.related -<br>provides REST API link to retrieve more data about importing user via <a href="https://apidocs.snyk.io/?version=2023-05-29%7Ebeta#get-/orgs/-org_id-/users/-id-">REST GET /orgs/:org_id/users/:id (beta)</a></p>                                                            |
| browseUrl                                                                                                    | N/A - can be constructed using organization slug and project ID https://app.snyk.io/org/:orgSlug/project/:projectId                                                                                                                                                                                                           |
| <p>importingUser.id</p><p>importingUser.name importingUser.username importingUser.email</p>                  | <p>data.[i]relationships.importer.data.id,</p><p>data[i]relationships.importer.links.related<br>Additionally provides REST API link to retrieve more data about importing user via <a href="https://apidocs.snyk.io/?version=2023-05-29%7Ebeta#get-/orgs/-org_id-/users/-id-">REST GET /orgs/:org_id/users/:id (beta)</a></p> |
| isMonitored                                                                                                  | data\[i].attributes.status                                                                                                                                                                                                                                                                                                    |
| branch                                                                                                       | data\[i].attributes.target\_reference                                                                                                                                                                                                                                                                                         |
| targetReference                                                                                              | data\[i].attributes.target\_reference                                                                                                                                                                                                                                                                                         |
| "tags": \[ { "key": "example-tag-key", "value": "example-tag-value" } ]                                      | data\[i].attributes.tags\[ { "key": "example-tag-key", "value": "example-tag-value" } ]                                                                                                                                                                                                                                       |
| <p>attributes.criticality</p><p><br><br></p>                                                                 | data\[i].attributes.business\_criticality                                                                                                                                                                                                                                                                                     |
| attributes.environment                                                                                       | data\[i].attributes.environment                                                                                                                                                                                                                                                                                               |
| attributes.lifecycle                                                                                         | data\[i].attributes.lifecycle                                                                                                                                                                                                                                                                                                 |

## Filters

| <p>Filter by name<br>If supplied, only Projects that have a name that starts with this value will be returned</p><p><br><br></p> | <p>Filter: names<br>Return projects that match the provided names.</p>                | <p>Use <a href="https://apidocs.snyk.io/?version=2023-04-28%7Ebeta#get-/orgs/-org_id-/targets">REST Targets API</a> to find matching Targets and then filter the Projects based on the target IDs. </p><p><br></p><p>For filtering without additional API calls, use the expand parameter on <a href="https://apidocs.snyk.io/?version=2023-02-15#get-/orgs/-org_id-/projects">REST List all projects for an org</a> to expand the targets relationship and return all relevant target data at the same time</p> |
| -------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Filter by tags                                                                                                                   | <p>Filter: tags</p><p>Return projects that match all the provided tags</p><p><br></p> | Supported from version [2023-02-15](https://apidocs.snyk.io/?version=2023-02-15#get-/orgs/-org\_id-/projects)  and up                                                                                                                                                                                                                                                                                                                                                                                            |
| Filter by attributes                                                                                                             | Filter: business\_criticality, environment and lifecycle                              | Supported from version [2023-02-15](https://apidocs.snyk.io/?version=2023-02-15#get-/orgs/-org\_id-/projects)  and up                                                                                                                                                                                                                                                                                                                                                                                            |

###

\
